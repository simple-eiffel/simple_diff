<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>simple_diff - Text Differencing Library for Eiffel</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <header>
        <div class="container">
            <img src="images/logo.png" alt="simple_diff logo" class="logo">
            <h1>simple_diff</h1>
            <p class="tagline">Text Differencing with Myers Algorithm</p>
            <div class="badges">
                <img src="https://img.shields.io/badge/License-MIT-blue.svg" alt="MIT License">
                <img src="https://img.shields.io/badge/Eiffel-25.02-purple.svg" alt="Eiffel 25.02">
                <img src="https://img.shields.io/badge/DBC-Contracts-green.svg" alt="Design by Contract">
            </div>
        </div>
    </header>

    <nav>
        <div class="container">
            <a href="#overview">Overview</a>
            <a href="#quick-start">Quick Start</a>
            <a href="#features">Features</a>
            <a href="#api-reference">API Reference</a>
            <a href="https://github.com/simple-eiffel/simple_diff">GitHub</a>
        </div>
    </nav>

    <main>
        <div class="container">
            <section id="overview">
                <h2>Overview</h2>
                <p>
                    <strong>simple_diff</strong> is a text differencing library implementing the Myers diff algorithm.
                    It provides a complete solution for comparing strings, files, and directories with support for
                    multiple output formats including unified diff, side-by-side, HTML, and JSON.
                </p>
                <p>
                    Part of the <a href="https://github.com/simple-eiffel">Simple Eiffel</a> ecosystem.
                </p>
            </section>

            <section id="quick-start">
                <h2>Quick Start</h2>
                <h3>Basic String Diff</h3>
<pre><code>local
    l_diff: SIMPLE_DIFF
    l_result: DIFF_RESULT
do
    create l_diff.make
    l_result := l_diff.diff_strings ("hello%Nworld", "hello%Nearth")

    if l_result.has_changes then
        print (l_result.to_unified)  -- Unified diff output
    end
end</code></pre>

                <h3>File Comparison</h3>
<pre><code>local
    l_diff: SIMPLE_DIFF
    l_result: DIFF_RESULT
do
    create l_diff.make
    l_result := l_diff.diff_files ("old_version.txt", "new_version.txt")
    print (l_result.to_html)  -- HTML formatted diff
end</code></pre>

                <h3>Builder Pattern Configuration</h3>
<pre><code>local
    l_diff: SIMPLE_DIFF
do
    create l_diff.make
    l_diff.set_context_lines (5)
         .set_ignore_whitespace (True)
         .set_ignore_case (True)
end</code></pre>
            </section>

            <section id="features">
                <h2>Features</h2>
                <ul>
                    <li><strong>Myers Diff Algorithm</strong> - Produces minimal edit scripts via LCS</li>
                    <li><strong>String/File/Directory Diffing</strong> - Compare any text source</li>
                    <li><strong>Multiple Renderers</strong> - Unified, side-by-side, HTML, JSON</li>
                    <li><strong>Patch Operations</strong> - Apply, reverse, dry-run with reject file support</li>
                    <li><strong>Builder Pattern</strong> - Fluent API for configuration</li>
                    <li>Design by Contract throughout</li>
                    <li>Void-safe implementation</li>
                    <li>SCOOP-compatible</li>
                </ul>
            </section>

            <section id="api-reference">
                <h2>API Reference</h2>

                <h3>SIMPLE_DIFF (Facade)</h3>
                <table>
                    <thead>
                        <tr><th>Feature</th><th>Description</th></tr>
                    </thead>
                    <tbody>
                        <tr><td><code>make</code></td><td>Create with default settings (3 context lines)</td></tr>
                        <tr><td><code>set_context_lines (n)</code></td><td>Set context lines around changes</td></tr>
                        <tr><td><code>set_ignore_whitespace (b)</code></td><td>Ignore whitespace differences</td></tr>
                        <tr><td><code>set_ignore_case (b)</code></td><td>Ignore case differences</td></tr>
                        <tr><td><code>diff_strings (s, t)</code></td><td>Compare two strings</td></tr>
                        <tr><td><code>diff_files (p1, p2)</code></td><td>Compare two files</td></tr>
                        <tr><td><code>diff_directories (d1, d2)</code></td><td>Compare directories recursively</td></tr>
                        <tr><td><code>apply_patch (diff, file)</code></td><td>Apply a diff to a file</td></tr>
                        <tr><td><code>reverse_patch (diff, file)</code></td><td>Unapply a patch</td></tr>
                    </tbody>
                </table>

                <h3>DIFF_RESULT</h3>
                <table>
                    <thead>
                        <tr><th>Feature</th><th>Description</th></tr>
                    </thead>
                    <tbody>
                        <tr><td><code>is_identical</code></td><td>True if no differences</td></tr>
                        <tr><td><code>has_changes</code></td><td>True if differences exist</td></tr>
                        <tr><td><code>hunk_count</code></td><td>Number of change hunks</td></tr>
                        <tr><td><code>additions_total</code></td><td>Total added lines</td></tr>
                        <tr><td><code>deletions_total</code></td><td>Total deleted lines</td></tr>
                        <tr><td><code>to_unified</code></td><td>Render as unified diff</td></tr>
                        <tr><td><code>to_side_by_side (width)</code></td><td>Render side-by-side</td></tr>
                        <tr><td><code>to_html</code></td><td>Render as HTML</td></tr>
                        <tr><td><code>to_json</code></td><td>Render as JSON</td></tr>
                    </tbody>
                </table>

                <h3>Class Structure</h3>
                <table>
                    <thead>
                        <tr><th>Class</th><th>Purpose</th></tr>
                    </thead>
                    <tbody>
                        <tr><td><code>SIMPLE_DIFF</code></td><td>Facade - main entry point</td></tr>
                        <tr><td><code>DIFF_ENGINE</code></td><td>Myers algorithm implementation</td></tr>
                        <tr><td><code>DIFF_RESULT</code></td><td>Contains diff hunks and metadata</td></tr>
                        <tr><td><code>DIFF_HUNK</code></td><td>Single contiguous change block</td></tr>
                        <tr><td><code>DIFF_LINE</code></td><td>Single line with status</td></tr>
                        <tr><td><code>DIFF_RENDERER</code></td><td>Output formatting</td></tr>
                        <tr><td><code>PATCH_APPLIER</code></td><td>Patch application logic</td></tr>
                    </tbody>
                </table>
            </section>

            <section id="installation">
                <h2>Installation</h2>
                <p>Add to your ECF file:</p>
<pre><code>&lt;library name="simple_diff" location="$SIMPLE_LIBS/simple_diff/simple_diff.ecf"/&gt;</code></pre>
            </section>
        </div>
    </main>

    <footer>
        <div class="container">
            <p>&copy; 2026 Simple Eiffel. <a href="https://github.com/simple-eiffel">GitHub</a></p>
        </div>
    </footer>
</body>
</html>
